<!DOCTYPE html>
<html lang="de" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>Roßdorf blüht auf</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="map/ol.css"/>
    <link rel="stylesheet" href="map/map.css"/>
    <script src="map/ol.js"></script>
    <script src="map/map.js"></script>
</head>

<body>
<h1>Rossdorf blueht auf</h1>

<form id="coordinates" method="POST" th:action="@{/biotopvernetzung/addNewBluehEvent}" th:object="${newBlueLocation}">
    <div>
<!--        Name: <input id="name" th:field="*{name}"/>-->
        Latidude (49.8...): <input id="lat" type="text" name="latitude" />
<!--        Latidude (49.8...): <input th:field="*{latitude}"/>-->
        Longitude (8.7...): <input id="lon" th:field="*{longitude}"/>
        <input type="submit" value="Auf Karte anzeigen">
        <input id="saveButton" th:formaction="@{/biotopvernetzung/saveNewBluehEvent}" type="submit" value="Auf Karte speichern">
    </div>
</form>

<form id="address" method="POST" th:action="@{/biotopvernetzung/addNewBluehEventAddress}">
    <div>
        Strasse mit Hausnummer: <input type="text" name="address"/> 64380 Roßdorf/Gundernhausen
        <input type="submit" value="Auf Karte anzeigen">
        <input id="saveButtonAddress" th:formaction="@{/biotopvernetzung/saveNewBluehEventAddress}" type="submit" value="Auf Karte speichern">
    </div>
</form>

<div id="msg">Um einen neuen Bluehpunkt hinzuzufuegen bitte die Koordinaten oder Adresse eingeben. Im zweiten Schritt speichern. </div>

<div id="map"></div>

<!--script fuer map kann erst nach map div ausgefuehrt werden!-->
<script th:inline="javascript">
   // die variablen aus java holen
         var list=/*[[${blueEvents}]]*/ [];
         var showNewLocation = /*[[${showNewLocation}]]*/;
         var errorMsg = /*[[${error}]]*/;

    // und jetzt java script in map aufrufen, wird gefunden, nix davor ist ok
        initialize_map(list, showNewLocation, errorMsg);
</script>
</body>
</html>